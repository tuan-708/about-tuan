<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,user-scalable=no" />
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" href="static/image/logo.jpg">
    <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"
        integrity="sha512-WJXVjqeINVpi5XXJ2jn0BSCfp0y80IKrYh731gLRnkAS9TKc5KNt/OfLtu+fCueqdWniouJ1ubM+VI/hbo7POQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>About Tuấn</title>
</head>

<body onload="loadPage()">
    <!-- Preloader -->
    <div id="preloader">
        <div class="ring"></div>
        <div class="ring"></div>
        <div class="ring"></div>
    </div>

    <!-- background page -->
    <div id="drag-container" onclick="enableAutoplay()">

        <div id="spin-container">
            <!-- Add your images (or video) here -->
            <img src="static/image/IMGS_027.jpeg" alt="" onclick="enableAutoplay()" />
            <img src="static/image/IMGS_025.jpg" alt="" onclick="enableAutoplay()" />
            <img src="static/image/IMGS_210.PNG" alt="" onclick="enableAutoplay()" />
            <img src="static/image/IMGS_240.jpg" alt="" onclick="enableAutoplay()" />
            <img src="static/image/IMGS_292.JPG" alt="" onclick="enableAutoplay()" />
            <img src="static/image/IMGS_309.JPG" alt="" onclick="enableAutoplay()" />


            <!-- Example add video  -->
            <video controls autoplay="autoplay" loop>
                <source
                    src="https://player.vimeo.com/external/322244668.sd.mp4?s=338c48ac2dfcb1d4c0689968b5baf94eee6ca0c1&profile_id=165&oauth2_token_id=57447761"
                    type="video/mp4" />
            </video>

            <!-- Text at center of ground -->
            <div id="container">
                <span id="text1"></span>
                <span id="text2"></span>
            </div>

            <svg id="filters">
                <defs>
                    <filter id="threshold">
                        <feColorMatrix in="SourceGraphic" type="matrix" values="1 0 0 0 0
                                  0 1 0 0 0
                                  0 0 1 0 0
                                  0 0 0 255 -140" />
                    </filter>
                </defs>
            </svg>
        </div>
        <div id="ground"></div>
    </div>

    <!-- clock  -->
    <div id="clock" class="clock">
        <div class="numbers">
            <span style="--i:0;"><b>12</b></span>
            <span style="--i:1;"><b>3</b></span>
            <span style="--i:2;"><b>6</b></span>
            <span style="--i:3;"><b>9</b></span>
            <div class="circle" id="hr"><i></i></div>
            <div class="circle" id="mn"><i></i></div>
            <div class="circle" id="sc"><i></i></div>
        </div>
    </div>


    <video id="audio" controls autoplay hidden>
        <source src="static/voice/audio.mp4" type="video/mp4" />
    </video>


    <div id="fireWorks">
    </div>

    <!-- menu -->
    <div id="menu" class="menu">
        <ul>
            <li style="--i:6;--clr:rgb(26,104,235,0.9);--textCl:white;">
                <a href="https://www.facebook.com/tuanlbs78" target="_blank">
                    <img class="logo" src="static/image/logoface.png">
                    <div id="speechbubble" class="overlay">
                        <div class="text">
                            Facebook: tuanlbs78
                            <!-- <img src="static/image/IMG_1212.PNG"> -->
                        </div>
                    </div>
                </a>
            </li>
            <li style="--i:6;--clr:rgba(255, 29, 123, 0.9);--textCl:white;">
                <a href="https://www.instagram.com/tuan.708/" target="_blank">
                    <img class="logo" src="static/image/logoinstagram.png">
                    <div class="overlay">
                        <div class="text">Instagram: tuan.708</div>
                    </div>
                </a>
            </li>
            <li style="--i:6;--clr:rgb(59, 47, 47);--textCl:white;">
                <a href="https://www.tiktok.com/@tuan.708" target="_blank">
                    <img class="logo" src="static/image/logotiktok.png">
                    <div class="overlay">

                        <div class="text">Tiktok: tuan.708</div>
                    </div>
                </a>
            </li>
            <li style="--i:6;--clr:rgb(96,206,77);--textCl:white;">
                <a href="tel:+84828782000">
                    <img class="logo" src="static/image/logophone.png">
                    <div class="overlay">
                        <div class="text">Phone: 0828782000</div>
                    </div>
                </a>
            </li>
            <li style="--i:6;--clr:rgb(86,141,215);--textCl:white;">
                <a href="https://www.linkedin.com/in/tuan-vuvan-b06541255/" target="_blank">
                    <img class="logo" src="static/image/logolinkedin.png">
                    <div class="overlay">
                        <div class="text">Linkedin: tuan-vuvan-b06541255</div>
                    </div>
                </a>
            </li>
            <li style="--i:6;--clr:rgb(157,216,231);--textCl: black;">
                <a href="mailto: tuanlbs78@gmail.com">
                    <img class="logo" src="static/image/logogmail.png">
                    <div class="overlay">
                        <div class="text">Gmail: tuanlbs78@gmail.com</div>
                    </div>
                </a>
            </li>
            <ul>
    </div>


    <div id="boxSelfIntro" class="container">
        <div class="card">
            <div class="lines">
            </div>
            <div class="imgBox">
                <img src="static/image/IMGS11.jpg" alt="">
            </div>
            <div class="content">
                <div class="details">
                    <h2>Sở thích</h2>
                    <p>1. Đá bóng</p>
                    <p>2. Nghe nhạc</p>
                    <p>3. Đi chơi với bạn bè</p>
                    <p>4. Tập Gym</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="lines">
            </div>
            <div class="imgBox">
                <img src="static/image/IMGS112.jpg" alt="">
            </div>
            <div class="content">
                <div class="details">
                    <h2>Công việc</h2>
                    <p>1. TTGDTX Bình Giang Hải Dương</p>
                    <p>2. Học CNTT đại học FPT</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="lines">
            </div>
            <div class="imgBox">
                <img src="static/image/IMGS1561.jpg" alt="">
            </div>
            <div class="content">
                <div class="details">
                    <h2>Slogan</h2>
                    <p class="slogan">|&#9785;| = &#9786;</p>
                    <p class="slogan">Bỏ qua những điều tiêu cực.</p>
                </div>
            </div>
        </div>
    </div>


    <script>
        // Wait to load all element
        var preloader = document.getElementById("preloader");
        var drag_container = document.getElementById("drag-container");
        var clock = document.getElementById("clock");
        var menu = document.getElementById("menu");
        var boxIntro = document.getElementById("boxSelfIntro");

        boxIntro.style.display = 'none';
        drag_container.style.display = 'none';
        clock.style.display = 'none';
        menu.style.display = 'none';


        function loadPage() {
            setTimeout(() => { preloader.classList.add("preloader-finish"); }, 500);

            drag_container.style.display = 'block';
            clock.style.display = 'block';
            menu.style.display = 'block';
            boxIntro.style.display = 'flex';
        }

        const locationFireWorks = [{ x: '-600px', y: '0px' }, { x: '-519px', y: '-300px' }, { x: '-300px', y: '-519px' }, { x: '0px', y: '-600px' }, { x: '300px', y: '-519px' }, { x: '519px', y: '-300px' }, { x: '600px', y: '0px' }]
        let count = 0;

        // Ban phao hoa
        function fireWorks() {
            for (let j = 0; j < 7; j++) {
                const btn = document.getElementById('fireWorks');
                const particles = [];
                const color = randomColor();

                const particle = document.createElement('span');
                particle.classList.add('particle', 'move');
                const { x, y } = locationFireWorks[j];

                particle.style.setProperty('--x', x);
                particle.style.setProperty('--y', y);
                particle.style.background = color;

                btn.appendChild(particle);

                particles.push(particle);

                setTimeout(() => {

                    for (let i = 0; i < 30; i++) { const innerP = document.createElement('span'); innerP.classList.add('particle', 'move'); innerP.style.transform = `translate(${x}, ${y})`; const xs = Math.random() * 200 - 100 + 'px'; const ys = Math.random() * 200 - 100 + 'px'; innerP.style.setProperty('--x', `calc(${x} + ${xs})`); innerP.style.setProperty('--y', `calc(${y} + ${ys})`); innerP.style.animationDuration = Math.random() * 300 + 200 + 'ms'; innerP.style.background = color; btn.appendChild(innerP); particles.push(innerP); } setTimeout(() => {
                        particles.forEach(particle => {
                            particle.remove();
                        });
                    }, 1000);
                }, 1000);

                function randomLocation() {
                    return {
                        x: Math.random() * window.innerWidth - window.innerWidth / 1.2 + 'px',
                        y: Math.random() * window.innerHeight - window.innerHeight / 1.2 + 'px'
                    };

                }

                function randomColor() {
                    return `hsl(${Math.floor(Math.random() * 361)}, 100%, 50%)`;
                }

            }
        }

        document.addEventListener('keyup', (e) => {
            if (e.code === "Space") {
                fireWorks();
            }
        });

        var vid = document.getElementById("audio");
        function enableAutoplay() {
            if (vid.paused) {
                vid.autoplay = true;
                vid.load();
            }
            fireWorks();
        }

        // event clock
        let hr = document.querySelector("#hr");
        let mn = document.querySelector("#mn");
        let sc = document.querySelector("#sc");

        let day = new Date();
        let hh = day.getHours() * 30;
        let mm = day.getMinutes() * 6;
        let ss = day.getSeconds() * 6;

        setInterval(function () {
            let day = new Date();
            let hh = day.getHours() * 30;
            let mm = day.getMinutes() * 6;
            let ss = day.getSeconds() * 6;

            hr.style.transform = `rotateZ(${hh + (mm / 12)}deg)`;

            mn.style.transform = `rotateZ(${mm}deg)`;

            sc.style.transform = `rotateZ(${ss}deg)`;
        }, 1000)



        // spin image
        var radius = 220; // how big of the radius
        var autoRotate = true; // auto rotate or not
        var rotateSpeed = -60; // unit: seconds/360 degrees
        var imgWidth = 130; // width of images (unit: px)
        var imgHeight = 180; // height of images (unit: px)

        // ===================== start =======================
        setTimeout(init, 100);

        var odrag = document.getElementById("drag-container");
        var ospin = document.getElementById("spin-container");
        var aImg = ospin.getElementsByTagName("img");
        var aVid = ospin.getElementsByTagName("video");
        var aEle = [...aImg, ...aVid]; // combine 2 arrays

        // Size of images
        if(screen.width > 600){
            ospin.style.width = imgWidth + "px";
            ospin.style.height = imgHeight + "px";
        }else{
            ospin.style.width = "120px";
            ospin.style.height = "160px";
        }


        // Size of ground - depend on radius
        var ground = document.getElementById("ground");
        ground.style.width = radius * 3 + "px";
        ground.style.height = radius * 3 + "px";

        function init(delayTime) {
            for (var i = 0; i < aEle.length; i++) {
                aEle[i].style.transform =
                    "rotateY(" +
                    i * (360 / aEle.length) +
                    "deg) translateZ(" +
                    radius +
                    "px)";
                aEle[i].style.transition = "transform 1s";
                aEle[i].style.transitionDelay =
                    delayTime || (aEle.length - i) / 4 + "s";
            }
        }

        function applyTranform(obj) {
            // Constrain the angle of camera (between 0 and 180)
            if (tY > 180) tY = 180;
            if (tY < 0) tY = 0;

            // Apply the angle
            obj.style.transform = "rotateX(" + -tY + "deg) rotateY(" + tX + "deg)";
        }

        function playSpin(yes) {
            ospin.style.animationPlayState = yes ? "running" : "paused";
        }

        var sX,
            sY,
            nX,
            nY,
            desX = 0,
            desY = 0,
            tX = 0,
            tY = 10;

        // auto spin
        if (autoRotate) {
            var animationName = rotateSpeed > 0 ? "spin" : "spinRevert";
            ospin.style.animation = `${animationName} ${Math.abs(
                rotateSpeed
            )}s infinite linear`;
        }

        // setup events
        document.onpointerdown = function (e) {
            clearInterval(odrag.timer);
            e = e || window.event;
            var sX = e.clientX,
                sY = e.clientY;

            this.onpointermove = function (e) {
                e = e || window.event;
                var nX = e.clientX,
                    nY = e.clientY;
                desX = nX - sX;
                desY = nY - sY;
                tX += desX * 0.1;
                tY += desY * 0.1;
                applyTranform(odrag);
                sX = nX;
                sY = nY;
            };

            this.onpointerup = function (e) {
                odrag.timer = setInterval(function () {
                    desX *= 0.95;
                    desY *= 0.95;
                    tX += desX * 0.1;
                    tY += desY * 0.1;
                    applyTranform(odrag);
                    playSpin(false);
                    if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {
                        clearInterval(odrag.timer);
                        playSpin(true);
                    }
                }, 17);
                this.onpointermove = this.onpointerup = null;
            };

            return false;
        };

        document.onmousewheel = function (e) {
            e = e || window.event;
            var d = e.wheelDelta / 20 || -e.detail;
            radius += d;
            init(1);
        };



        // js text in picture
        const elts = {
            text1: document.getElementById("text1"),
            text2: document.getElementById("text2")
        };

        const texts = [
            "Follow",
            "Mình",
            "Nhé!",
            "Vu Tuan :)",
        ];

        const morphTime = 1;
        const cooldownTime = 0.25;

        let textIndex = texts.length - 1;
        let time = new Date();
        let morph = 0;
        let cooldown = cooldownTime;

        elts.text1.textContent = texts[textIndex % texts.length];
        elts.text2.textContent = texts[(textIndex + 1) % texts.length];

        function doMorph() {
            morph -= cooldown;
            cooldown = 0;

            let fraction = morph / morphTime;

            if (fraction > 1) {
                cooldown = cooldownTime;
                fraction = 1;
            }

            setMorph(fraction);
        }

        function setMorph(fraction) {
            elts.text2.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
            elts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;

            fraction = 1 - fraction;
            elts.text1.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
            elts.text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;

            elts.text1.textContent = texts[textIndex % texts.length];
            elts.text2.textContent = texts[(textIndex + 1) % texts.length];
        }

        function doCooldown() {
            morph = 0;

            elts.text2.style.filter = "";
            elts.text2.style.opacity = "100%";

            elts.text1.style.filter = "";
            elts.text1.style.opacity = "0%";
        }

        function animate() {
            requestAnimationFrame(animate);

            let newTime = new Date();
            let shouldIncrementIndex = cooldown > 0;
            let dt = (newTime - time) / 1000;
            time = newTime;

            cooldown -= dt;

            if (cooldown <= 0) {
                if (shouldIncrementIndex) {
                    textIndex++;
                }

                doMorph();
            } else {
                doCooldown();
            }
        }

        animate();

    </script>
</body>

</html>